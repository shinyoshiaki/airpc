{"version":3,"file":"redux.js","sourceRoot":"","sources":["../src/redux.ts"],"names":[],"mappings":";;AAEA,MAAM,SAAS;IACb,YAAY,MAAW;QACrB,MAAM,CAAC,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC1D,IAAI,IAAI,KAAK,aAAa;gBAAE,OAAO;YACnC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,SAAgB,SAAS,CAAI,MAA4B;IACvD,OAAO,IAAI,SAAS,CAAC,MAAM,CAAQ,CAAC;AACtC,CAAC;AAFD,8BAEC;AAED,SAAgB,WAAW,CAAgB,QAAW;IACpD,MAAM,MAAM,GAAG,CAAC,KAAU,EAAE,CAAM,EAAc,EAAE;QAChD,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;QACzB,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE;YAClB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACvB,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;SAChC;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC,CAAC;IACF,OAAO,MAAM,CAAC;AAChB,CAAC;AAXD,kCAWC","sourcesContent":["import { Any } from \"./typings/any\";\n\nclass WrapRedux {\n  constructor(target: any) {\n    Object.getOwnPropertyNames(target.prototype).forEach(type => {\n      if (type === \"constructor\") return;\n      this[type] = (...args) => ({ type, args });\n    });\n  }\n}\n\nexport function wrapRedux<T>(target: { new (...args): T }): Any<T> {\n  return new WrapRedux(target) as any;\n}\n\nexport function exposeRedux<T extends any>(instance: T) {\n  const update = (state: any, v: any): T[\"state\"] => {\n    const { type, args } = v;\n    if (instance[type]) {\n      instance.state = state;\n      return instance[type](...args);\n    } else {\n      return state;\n    }\n  };\n  return update;\n}\n"]}