{"version":3,"file":"redux.js","sourceRoot":"","sources":["../src/redux.ts"],"names":[],"mappings":";;AAEA,MAAM,SAAS;IACb,YAAY,MAAW,EAAE,OAAoB;QAC3C,MAAM,CAAC,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC1D,IAAI,IAAI,KAAK,aAAa;gBAAE,OAAO;YACnC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,SAAgB,SAAS,CACvB,MAA4B,EAC5B,OAAoB;IAEpB,OAAO,IAAI,SAAS,CAAC,MAAM,EAAE,OAAO,CAAQ,CAAC;AAC/C,CAAC;AALD,8BAKC;AAED,SAAgB,WAAW,CAAC,QAAa;IACvC,MAAM,MAAM,GAAG,CAAC,KAAU,EAAE,CAAM,EAAE,EAAE;QACpC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;QACzB,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE;YAClB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACvB,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;SAChC;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC,CAAC;IACF,OAAO,MAAM,CAAC;AAChB,CAAC;AAXD,kCAWC","sourcesContent":["export type WrapperSync = (v: any) => void;\n\nclass WrapRedux {\n  constructor(target: any, wrapper: WrapperSync) {\n    Object.getOwnPropertyNames(target.prototype).forEach(type => {\n      if (type === \"constructor\") return;\n      this[type] = (...args) => wrapper({ type, args });\n    });\n  }\n}\n\nexport function wrapRedux<T>(\n  target: { new (...args): T },\n  wrapper: WrapperSync\n): T {\n  return new WrapRedux(target, wrapper) as any;\n}\n\nexport function exposeRedux(instance: any) {\n  const update = (state: any, v: any) => {\n    const { type, args } = v;\n    if (instance[type]) {\n      instance.state = state;\n      return instance[type](...args);\n    } else {\n      return state;\n    }\n  };\n  return update;\n}\n"]}