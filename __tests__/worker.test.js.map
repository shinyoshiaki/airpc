{"version":3,"file":"worker.test.js","sourceRoot":"","sources":["../../__tests__/worker.test.ts"],"names":[],"mappings":";;;AAAA,qCAAsC;AACtC,mDAAwC;AACxC,+DAAmE;AACnE,gCAA8B;AAE9B,IAAI,CACF,QAAQ,EACR,GAAS,EAAE;IACT,MAAM,MAAM,GAAG,IAAI,uBAAM,CAAC,aAAa,EAAE;QACvC,UAAU,EAAE,EAAE,IAAI,EAAE,uBAAuB,EAAE;KAC9C,CAAC,CAAC;IAEH,MAAM,MAAM,GAAG,UAAI,CAAC,mBAAU,EAAE,oCAAoB,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D,MAAM,CAAC,MAAM,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9C,MAAM,CAAC,MAAM,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9C,IAAI,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;IAClC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7B,IAAI,GAAG,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC/B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/B,CAAC,CAAA,EACD,KAAM,GAAG,EAAE,CACZ,CAAC","sourcesContent":["import { TestWorker } from \"./worker\";\nimport { Worker } from \"worker_threads\";\nimport { workerThreadsWrapper } from \"../src/module/workerThreads\";\nimport { wrap } from \"../src\";\n\ntest(\n  \"worker\",\n  async () => {\n    const worker = new Worker(\"./worker.js\", {\n      workerData: { path: \"./__tests__/worker.ts\" }\n    });\n\n    const linked = wrap(TestWorker, workerThreadsWrapper(worker));\n\n    expect(await linked.increment(777)).toBe(778);\n    expect(await linked.decrement(777)).toBe(776);\n    let json = await linked.getJson();\n    expect(json.a.b.c).toBe(\"d\");\n    json = await linked.getAsync();\n    expect(json.a.b.c).toBe(\"d\");\n  },\n  60_000 * 60\n);\n"]}